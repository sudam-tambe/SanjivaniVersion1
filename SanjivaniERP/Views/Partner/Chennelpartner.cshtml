@model SanjivaniModalView.ChennelpartnerModel

@{
    ViewBag.Title = "Test";
    Layout = "~/Views/Shared/_LayoutSanjivani.cshtml";
}

<style>
    label:not(.form-check-label):not(.custom-file-label) {
        font-weight: 400;
    }
</style>
<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1 class="m-0 text-dark">Channal Partner</h1>
            </div><!-- /.col -->
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active">Channal Partner</li>
                </ol>
            </div><!-- /.col -->
        </div><!-- /.row -->
    </div><!-- /.container-fluid -->
</div>


<section class="content">
    <div class="container-fluid">
        <!-- Small boxes (Stat box) -->
        <div class="row">
            <div class="col-md-12">
                <!-- Custom Tabs -->
                @Html.HiddenFor(model => model.CustId)
                @*<div class="nav-tabs-custom">
                        <ul class="nav nav-tabs" id="tabUL" style="background: #3c8dbc;">
                            <li id="one" class="active"><a href="#tab_1" data-toggle="tab" style="color:white">Personal Detail</a></li>
                            <li id="two" class=""><a href="#tab_2" data-toggle="tab" style="color:white">Business Detail</a></li>
                            <li id="three" class=""><a href="#tab_3" data-toggle="tab" style="color:white">Bank Detail</a></li>
                            <li id="four" class=""><a href="#tab_4" data-toggle="tab" style="color:white">Document Detail</a></li>
                            <li id="five" class=""><a href="#tab_5" data-toggle="tab" style="color:white">User Intraction</a></li>
                            <li id="six" class=""><a href="#tab_6" data-toggle="tab" style="color:white">Channal Partner Product</a></li>
                            <li id="six" class=""><a href="#tab_7" data-toggle="tab" style="color:white"> CP Global Help Desk Tickets</a></li>
                            <li id="six" class=""><a href="#tab_8" data-toggle="tab" style="color:white"> CP Finance & Accounting</a></li>

                            <li class="pull-right"><a href="#" class="text-muted"><i class="fa fa-gear"></i></a></li>
                        </ul>
                        <div class="tab-content">

                            <div class="tab-pane active" id="tab_1">

                            </div><!-- /.tab-pane -->


                            <div class="tab-pane" id="tab_2">

                            </div><!-- /.tab-pane -->
                            <div class="tab-pane" id="tab_3">

                            </div><!-- /.tab-pane -->
                            <div class="tab-pane" id="tab_4">

                            </div><!-- /.tab-pane -->
                            <div class="tab-pane" id="tab_5">

                            </div><!-- /.tab-pane -->
                            <div class="tab-pane" id="tab_6">

                            </div><!-- /.tab-pane -->
                        </div><!-- /.tab-content -->
                        <div class="col-md-12" style="margin-top:10px">
                            <div class="col-md-4"></div>
                            <div class="col-md-8">
                                <div class="col-md-2"><button type="submit" class="btn btn-success"><i class="fa fa-check"></i> Approve</button></div>
                                <div class="col-md-2"><a class="btn btn-danger" href="@Url.Action("RejectCP", "Partner",new { CustId=Model.CustId})"><i class="fa fa-edit"></i> Reject</a></div>
                                <div class="col-md-2"><a href="@Url.Action("DeleteCp", "Partner",new { CustId=Model.CustId})" class="btn btn-primary"><i class="fa fa-times"></i> Delete</a></div>
                            </div>
                        </div>
                    </div>*@<!-- nav-tabs-custom -->
            </div>
            <div class="col-12 col-sm-12">
                <div class="card card-primary card-tabs">
                    <div class="card-header p-0 pt-1">
                        <ul class="nav nav-tabs" id="custom-tabs-one-tab" role="tablist">
                            <li class="nav-item" id="one">
                                <a class="nav-link active" id="T1" data-toggle="pill" href="#tab_1" role="tab" aria-controls="custom-tabs-one-home" aria-selected="false">CP Info</a>
                            </li>
                            <li class="nav-item" id="two">
                                <a class="nav-link " id="T2" data-toggle="pill" href="#tab_2" role="tab" aria-controls="custom-tabs-one-profile" aria-selected="true">Business</a>
                            </li>
                            <li class="nav-item" id="three">
                                <a class="nav-link" id="T3" data-toggle="pill" href="#tab_3" role="tab" aria-controls="custom-tabs-one-messages" aria-selected="false">Bank</a>
                            </li>
                            <li class="nav-item" id="four">
                                <a class="nav-link" id="T4" data-toggle="pill" href="#tab_4" role="tab" aria-controls="custom-tabs-one-settings" aria-selected="false">Documents</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="T5" data-toggle="pill" href="#tab_5" role="tab" aria-controls="custom-tabs-one-settings" aria-selected="false">Intraction</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="six" data-toggle="pill" href="#tab_6" role="tab" aria-controls="custom-tabs-one-settings" aria-selected="false">Products</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="Seven" data-toggle="pill" href="#tab_7" role="tab" aria-controls="custom-tabs-one-settings" aria-selected="false">GHD Ticket</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="Eight" data-toggle="pill" href="#tab_8" role="tab" aria-controls="custom-tabs-one-settings" aria-selected="false">CP Billing</a>
                            </li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div class="tab-content" id="custom-tabs-one-tabContent">
                            <div class="tab-pane fade active show" id="tab_1" role="tabpanel" aria-labelledby="custom-tabs-one-home-tab">

                            </div>
                            <div class="tab-pane fade" id="tab_2" role="tabpanel" aria-labelledby="custom-tabs-one-profile-tab">

                            </div>
                            <div class="tab-pane fade" id="tab_3" role="tabpanel" aria-labelledby="custom-tabs-one-messages-tab">

                            </div>
                            <div class="tab-pane fade" id="tab_4" role="tabpanel" aria-labelledby="custom-tabs-one-settings-tab">

                            </div>
                            <div class="tab-pane fade" id="tab_5" role="tabpanel" aria-labelledby="custom-tabs-one-settings-tab">

                            </div>
                            <div class="tab-pane fade" id="tab_6" role="tabpanel" aria-labelledby="custom-tabs-one-settings-tab">

                            </div>
                            <div class="tab-pane fade" id="tab_7" role="tabpanel" aria-labelledby="custom-tabs-one-settings-tab">

                            </div>
                            <div class="tab-pane fade" id="tab_8" role="tabpanel" aria-labelledby="custom-tabs-one-settings-tab">

                            </div>
                        </div>
                    </div>
                    <!-- /.card -->

                    <div class="col-md-12" style="text-align:center">
                        <a class="btn btn-success" style="color:white" href="@Url.Action("ApproveCp","Partner")"><i class="fa fa-check"></i> Approve</a>
                        <a type="submit" class="btn btn-primary" style="color:white" href="@Url.Action("RejectCP","Partner")"><i class="fa fa-times"></i> Reject</a>
                        <a type="submit" class="btn btn-danger" style="color:white" href="@Url.Action("DeleteCP","Partner")"><i class="fa fa-trash"></i> Delete</a>
                    </div>


                </div>
            </div>
        </div>
</section>
<script src="~/Content/js/countrystatecity.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
<script src="~/Content/js/jquery.min.js"></script>
<script src="~/Content/js/bootstrap.min.js"></script>

<script type="text/javascript">
    var userId = $('#CustId').val();
    var data = { CustId: userId };
    var d = loadData("@Url.Action("_PartialCPPerstionalDtl", "Partner")", data);
    $('#tab_1').html(d);
    //$('#tab_2').html('');
    //$('#tab_3').html('');
    //$('#tab_4').html('');
    //$('#tab_5').html('');
    @*var d = loadData("@Url.Action("_PartialCPBusinessDtl", "Partner")", data);
    $('#tab_2').html(d);
    var d = loadData("@Url.Action("_PartialgetCPBankDtl", "Partner")", data);
    $('#tab_3').html(d);
    var d = loadData("@Url.Action("UserIntraction", "Partner")", data);
    $('#tab_5').html(d);
    var d = loadData("@Url.Action("_partialCPDocument", "Partner")", {});
    $('#tab_4').html(d);*@

    $('#T1').click(function () {
        debugger
        $('#tab_2').html('');
        $('#tab_3').html('');
        $('#tab_4').html('');
        $('#tab_5').html('');
        var d = loadData("@Url.Action("_PartialCPPerstionalDtl", "Partner")", data);
        $('#tab_1').html(d);
        $('#T1').addClass('nav-link active')
        $('#T4').removeClass('active')
        $('#T2').removeClass('active')
        $('#T3').removeClass('active')
        $('#T5').removeClass('active')
        $('#tab_1').addClass('tab-pane fade active show')
    });

    $('#T2').click(function () {
        var d = loadData("@Url.Action("_PartialCPBusinessDtl", "Partner")", data);
        $('#tab_2').html(d);
        $('#T2').addClass('nav-link active')
        $('#T1').removeClass('active')
        $('#T3').removeClass('active')
        $('#T4').removeClass('active')
        $('#T5').removeClass('active')
        $('#tab_2').addClass('tab-pane fade active show')

    });
    $('#T3').click(function () {
        debugger
        var d = loadData("@Url.Action("_PartialgetCPBankDtl", "Partner")", data);
        $('#tab_3').html(d);
        $('#T3').addClass('nav-link active')
        $('#T1').removeClass('active')
        $('#T2').removeClass('active')
        $('#T4').removeClass('active')
        $('#T5').removeClass('active')
        $('#tab_3').addClass('tab-pane fade active show')

    });

    $('#T4').click(function () {
        debugger

        var d = loadData("@Url.Action("_partialCPDocument", "Partner")", {});
        $('#tab_4').html(d);
        $('#T4').addClass('nav-link active')
        $('#T1').removeClass('active')
        $('#T2').removeClass('active')
        $('#T3').removeClass('active')
        $('#T5').removeClass('active')
        $('#tab_4').addClass('tab-pane fade active show')
    });
    $('#T5').click(function () {
        var d = loadData("@Url.Action("UserIntraction", "Partner")", data);
        $('#tab_5').html(d);
        $('#T5').addClass('nav-link active')
        $('#T1').removeClass('active')
        $('#T2').removeClass('active')
        $('#T3').removeClass('active')
        $('#T4').removeClass('active')
        $('#tab_5').addClass('tab-pane fade active show')
    });

    var session = '@Session["Tab"]';
    if (session == '4')
    {
        $('#tab_1').html('');
      
        $('#T4').addClass('nav-link active')
        $('#T1').removeClass('active')
        $('#T2').removeClass('active')
        $('#T3').removeClass('active')
        $('#T5').removeClass('active')
        var d = loadData("@Url.Action("_partialCPDocument", "Partner")", {});
        $('#tab_4').html(d);
        $('#tab_4').addClass('tab-pane fade active show')
    }

    @*$(document).ready(function () {
        var session = '@Session["Tab"]';

        debugger;

        $('.nav li').removeClass('active');

        if (session == '1') {
            $('#tab_1').html('');
            $('#one').addClass('active')
            $('#tab_2').removeClass('active')
            $('#tab_3').removeClass('active')

              var d = loadData("@Url.Action("_PartialCPPerstionalDtl", "Partner")", data);
        $('#tab_1').html(d);

            $('#T1').addClass('nav-link active')
            $('#T2').removeClass('active')
            $('#T3').removeClass('active')
            $('#T4').removeClass('active')

            $('#tab_2').addClass('tab-pane fade active show')
        }

        if (session == '2') {
            $('#tab_1').html('');
            $('#two').addClass('active')
            $('#tab_1').removeClass('active')
            $('#tab_3').removeClass('active')
            $('#tab_4').removeClass('active')

            var d = loadData("@Url.Action("_PartialCPBusinessDtl", "Partner")", data);
            $('#tab_2').html(d);

            $('#T2').addClass('nav-link active')
            $('#T1').removeClass('active')
            $('#T3').removeClass('active')
            $('#T4').removeClass('active')

            $('#tab_2').addClass('tab-pane fade active show')
        }
        @*else if (session == '3') {

            $('#three').addClass('active')
            $('#tab_1').removeClass('active')
            $('#tab_2').removeClass('active')
            $('#tab_4').removeClass('active')

           var d = loadData("@Url.Action("_PartialgetCPBankDtl", "Partner")", data);
           $('#tab_3').html(d);
            $('#T3').addClass('nav-link active')
            $('#T1').removeClass('active')
            $('#T2').removeClass('active')
            $('#T4').removeClass('active')
            $('#tab_3').addClass('tab-pane fade active show')
        }
        else if (session == '4') {

            $('#four').addClass('active')
            $('#tab_1').removeClass('active')
            $('#tab_2').removeClass('active')
            $('#tab_3').removeClass('active')

            var d = loadData("@Url.Action("_partialCPDocument", "Partner")", {});
            $('#tab_4').html(d);

            $('#T4').addClass('nav-link active')
            $('#T1').removeClass('active')
            $('#T2').removeClass('active')
            $('#T3').removeClass('active')
            $('#tab_4').addClass('tab-pane fade active show')
        }
        else {
            $('#one').addClass('active')
            $('#tab_4').removeClass('active')
            $('#tab_2').removeClass('active')
            $('#tab_3').removeClass('active')

            $('#T1').addClass('nav-link active')
            $('#T4').removeClass('active')
            $('#T2').removeClass('active')
            $('#T3').removeClass('active')
            $('#tab_1').addClass('tab-pane fade active show')
        }
    });*@


    function fnAllowNumeric() {
        if ((event.keyCode < 48 || event.keyCode > 57) && event.keyCode != 8) {
            event.keyCode = 0;
            alert("Accept only Number..!");
            return false;
        }
    }

    function IsMobileNumber() {
        var mob = /^[1-9]{1}[0-9]{9}$/;
        var txtMobile = document.getElementById("mobileNo").value;
        if (txtMobile != '') {
            if (mob.test(txtMobile) == false) {

                $("#mobileNo").val('');
                ////$("#msg").show();
                //document.getElementById("span").innerHTML = "Please enter valid mobile number";
                alert("Please enter valid mobile number");
                return false;
            }
            return true;
        }

    }
    function CnfirmPassword() {

        var pass = document.getElementById("pwd").value;
        var Confpass = document.getElementById("Cpwd").value;
        if (Confpass != '') {
            if (Confpass != pass) {

                $("#Cpwd").val('');
                // $("#msg").show();
                //document.getElementById("span").innerHTML = "Confirm Password Does Not Match";
                alert("Confirm Password Does Not Match");
                return false;
            }
            return true;
        }

    }
    function validateCaseSensitiveEmail() {


        var EmailId = $('#EmailID').val();
        if (EmailId != '') {
            var data = { Email: EmailId };
            credit = 0;

            var d = getJsonResult("@Url.Action("checEmailIdExits", "CP")", data);
            if (d.Status == 400) {

                alert('Email Id Already Exists Please Enter Another');

                $('#EmailID').val('');
                $('#EmailID').focus();
            }

            var email = document.getElementById("EmailID").value;


            var reg = /^([\w-\.]+)@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
            if (reg.test(email)) {

            }
            else {

                $("#EmailID").val('');
                $("#EmailID").focus();
                alert('Please Enter Valid Email');
                // $("#msg").show();
                //document.getElementById("span").innerHTML = "Please Enter Valid Email";
            }
        }

    }
    function CheckPassword(inputtxt) {
        var res;
        var str =
            document.getElementById("pwd").value;
        if (str.match(/[a-z]/g) && str.match(
                /[A-Z]/g) && str.match(
                /[0-9]/g) && str.match(
                /[^a-zA-Z\d]/g) && str.length >= 8)
            res = "TRUE";
        else {
            res = "FALSE";
            // alert("Password Should be Strong");
            $("#pwd").val('');
            // $("#msg").show();
            alert('Password Should be Strong');
            // document.getElementById("span").innerHTML = "Password Should be Strong";
        }

        document.getElementById("t2").value = res;
    }
    $("#MobileNo").change(function () {
        var MobileMo = $("#MobileNo").val();
        $.ajax({
            type: "GET",
            url: "/Home/GetCutomerFromMobile",
            contentType: "application/json; charset=utf-8",
            data: 'MobileMo=' + MobileMo,
            dataType: "json",
            success: function (response) {
                if (response != null) {
                    $('#CustName').val(response.Name);

                } else {
                    alert("Something went wrong");
                }
            },
            failure: function (response) {
                alert(response.responseText);
            },
            error: function (response) {
                alert(response.responseText);
            }
        });
    });

    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode;
        if (charCode != 46 && charCode > 31
          && (charCode < 48 || charCode > 57))
            return false;

        return true;
    }



    $('#UserName').change(function () {


        var userId = $('#UserName').val();
        var data = { UserId: userId };
        credit = 0;

        var d = getJsonResult("@Url.Action("CheckUserIdExits", "CP")", data);
        if (d.Status == 400) {

            alert('User Id Already Exists Please Enter Another');

            $('#UserName').val('');
            $('#UserName').focus();
        }
        else {

        }

    });


    $('#EmailID').focusout(function () {


        var EmailId = $('#EmailID').val();
        var data = { Email: EmailId };
        credit = 0;

        var d = getJsonResult("@Url.Action("CheckEmailExists", "CP")", data);
        if (d.Status == 400) {

            alert('Email Id Already Exists Please Enter Another');

            $('#EmailID').val('');
            $('#EmailID').focus();
        }
        else {

        }

    });

    $(function () {

        $('#txtNumeric').keydown(function (e) {

            if (e.shiftKey || e.ctrlKey || e.altKey) {

                e.preventDefault();

            } else {

                var key = e.keyCode;

                if (!((key == 8) || (key == 32) || (key == 46) || (key >= 35 && key <= 40) || (key >= 65 && key <= 90))) {

                    e.preventDefault();

                }

            }

        });

    });

    var cek = /^[a-zA-Z\ \']+$/;
    function validate(form) {

        var name = $('#chennelpartName').val();
        if (name != '') {
            if (!cek.test(name)) {

                $('#chennelpartName').focus();
                alert("Only Alphabetic");
                $('#chennelpartName').val('');
                return false;
            }
            return true;
        }

    }
    $(document).ready(function () {
        $(".wideSlider").each(function () {
            var $this = $(this);
            var $slider = $this.find(".flexslider");
            var startat = $slider.attr("data-startat");
            if (startat = 0) {
            }
            $slider.flexslider({
                animation: 'slide',
                easing: 'linear',
                slideshow: true,
                slideshowSpeed: 7000,
                animationLoop: true,
                startAt: startat,
                controlNav: false,
                directionNav: true,
                nextText: " ",
                prevText: " ",
            });
        });
    })
</script>

